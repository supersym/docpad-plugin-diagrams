<h1>main.js</h1>
<pre><code class="lang-js"><span class="comment">// Generated by CoffeeScript 1.4.0</span>
<span class="keyword">var</span> Backbone, DocPad, createInstance, createMiddlewareInstance, pathUtil, queryEngine, _ref;

pathUtil = require(<span class="string">'path'</span>);

_ref = require(__dirname + <span class="string">'/lib/docpad'</span>), DocPad = _ref.DocPad, queryEngine = _ref.queryEngine, Backbone = _ref.Backbone, createInstance = _ref.createInstance, createMiddlewareInstance = _ref.createMiddlewareInstance;

module.exports = {
  DocPad: DocPad,
  queryEngine: queryEngine,
  Backbone: Backbone,
  createInstance: createInstance,
  createMiddlewareInstance: createMiddlewareInstance,
  require: <span class="keyword">function</span>(relativePath) {
    <span class="keyword">var</span> absolutePath;
    absolutePath = pathUtil.normalize(pathUtil.join(__dirname, relativePath));
    <span class="keyword">if</span> (absolutePath.replace(__dirname, <span class="string">''</span>) === absolutePath) {
      <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">"docpad.require is limited to local docpad files only: "</span> + relativePath);
    }
    <span class="keyword">try</span> {
      require.resolve(absolutePath);
    } <span class="keyword">catch</span> (err) {
      absolutePath = pathUtil.join(__dirname, <span class="string">'lib'</span>, relativePath);
      require.resolve(absolutePath);
    }
    <span class="keyword">return</span> require(absolutePath);
  }
};
</code></pre>